# Coco 구현 로드맵

**2026년 1월 21일 | 전략 분석 기반 구현 계획 v2.0**

> **구현 문서 1/5** | 다음: [투입 인력](./resource_plan_ko.md) | [폴더 인덱스](./README.md)

---

## 개요

### 프로젝트 비전

> **"국내 SI 사업을 위한 범용 AI 코딩 어시스턴스"** (like CursorAI / Claude Code for SI Project)

### xFrame5란?

| 항목 | 내용 |
|------|------|
| **제품명** | xFrame5 |
| **개발사** | 소프트베이스(주) (SOFTBase) |
| **유형** | HTML5 기반 UI 개발 솔루션 |
| **용도** | **공공 SI 사업용 UI/UX 프레임워크** |
| **시장 포지션** | 제1금융시장 UI 솔루션 선두주자 |
| **기술 특징** | Any Device, Any Browser, Any Server Platform 지원 RIA 솔루션 |
| **주요 고객** | KB국민은행, 하나은행, 우리은행, 대법원, 삼성전자 등 |

**Coco와의 관계**: xFrame5는 Coco의 **첫 번째 응용 사례**. 프레임워크 분리(Phase 1) 후 Spring, Vue, React 등으로 확장 예정.

---

## 기술 요구사항

### 하드웨어 요구사항

| 구성요소 | 최소 사양 | 권장 사양 | 비고 |
|----------|----------|----------|------|
| **GPU 메모리** | 48GB | **64GB 이상** | Qwen2.5-Coder-32B 필수 |
| **GPU 모델** | NVIDIA A40 | NVIDIA A100/H100 | vLLM 호환 |
| **시스템 메모리** | 128GB | 256GB | 모델 로딩 + 추론 버퍼 |
| **스토리지** | 500GB SSD | 1TB NVMe | 모델 저장 + 로그 |

### 소프트웨어 요구사항

| 구성요소 | 버전 | 비고 |
|----------|------|------|
| **vLLM** | >= 0.6.0 | **tool calling 지원 필수** |
| **Python** | >= 3.10 | vLLM 호환 |
| **CUDA** | >= 12.1 | GPU 드라이버 |
| **Docker** | >= 24.0 | 컨테이너 배포 시 |

> **중요**: vLLM 0.6 미만 버전에서는 tool calling이 지원되지 않아 Coco의 6단계 파이프라인이 정상 동작하지 않습니다.

### 검증된 LLM 모델

| 모델 | 크기 | GPU 요구량 | 라이선스 | 검증 상태 |
|------|------|-----------|----------|----------|
| Qwen2.5-Coder-32B-Instruct-AWQ | 32B | 64GB | Apache 2.0 | ✅ 검증 완료 (품질 54%) |
| **GPT-OSS 20B** | 20B | 48GB | Apache 2.0 | ✅ 검증 완료 **(품질 94%, 권장)** |
| Qwen2.5-Coder-7B-Instruct | 7B | 16GB | Apache 2.0 | 🔄 테스트 중 |

> **출처**: [HuggingFace - Qwen2.5-Coder-32B-Instruct](https://huggingface.co/Qwen/Qwen2.5-Coder-32B-Instruct), [OpenAI GPT-OSS](https://github.com/openai/gpt-oss)

> ⚠️ **모델 선택 가이드**: 모델 크기가 품질을 보장하지 않음. 벤치마크 결과 GPT-OSS 20B(94%)가 Qwen32B(54%)보다 xFrame5 코드 생성에서 우수. 상세: `03_development/2026-01-15_project_intro/model_benchmark.md`

### 경량 모델 지원 현황

| 모델 크기 | 용도 | 품질 | 비고 |
|----------|------|------|------|
| **1B (Gemma3:1b)** | ❌ 부적합 | 낮음 | 프롬프트 이해 불가, 엉뚱한 응답 |
| **4B (Gemma3:4b)** | △ QA 전용 | 중간 | 정답 제공하나 응답 불완전, 2분+ 지연 |
| **7B 이상** | ✅ 기본 사용 | 중-상 | 코드 생성 가능, 복잡한 작업은 20B+ 권장 |

> **테스트 환경**: MacBook Pro (Intel i7, 16GB RAM, GPU 없음, Ollama)
> **상세**: `03_development/2026-01-24_progress/lightweight_model_qa.md`

---

## 인프라 비용 분석

### 초기 투자 비용

| 항목 | 최소 구성 | 권장 구성 | 비고 |
|------|----------|----------|------|
| **GPU 서버** | $15,000 (A40 x1) | $25,000-$40,000 (A100 x1) | 약 2,000만-5,200만원 |
| **시스템 구성** | $3,000-$5,000 | $5,000-$8,000 | CPU, RAM, SSD |
| **네트워크/보안** | $1,000-$2,000 | $2,000-$5,000 | 방화벽, 스위치 |
| **합계** | **$19,000-$22,000** | **$32,000-$53,000** | 약 2,500만-6,900만원 |

### 운영 비용 (월간)

| 항목 | 비용 | 비고 |
|------|------|------|
| **전력비** | $200-$500/월 | GPU 상시 가동 기준 |
| **유지보수** | $100-$300/월 | 하드웨어 점검 |
| **인력** | $3,000-$5,000/월 | 시스템 관리자 (파트타임) |

### 클라우드 대안 비교

| 옵션 | 시간당 비용 | 월간 비용 (8시간/일 기준) | 비고 |
|------|-----------|-------------------------|------|
| AWS p4d.24xlarge | $32.77/hr | ~$5,200 | A100 x8 |
| GCP a2-highgpu-1g | $3.67/hr | ~$580 | A100 x1 |
| Azure NC24ads A100 | $3.67/hr | ~$580 | A100 x1 |

> **권장**: 초기 PoC는 클라우드로 시작, 상용화 시 온프레미스 전환 고려

> 상세 비용 분석: `cost_analysis_ko.md` 참조

---

## Phase 개요

| Phase 1 | Phase 2 |
|---------|---------|
| 핵심 기능 (Critical) | 확장 기능 (High) |
| **파일 작업** | **VS Code 확장** |
| 읽기/쓰기/편집 + 검증 게이트웨이 | Eclipse 동등 기능 VS Code 플러그인 |
| **프레임워크 분리** | **터미널 실행** |
| xFrame5 의존성 제거, 어댑터 패턴 | 블랙리스트 기반 거버닝 터미널 |
| **CLI 인터페이스** | **검증 API** |
| 배치, CI/CD, 스크립팅 지원 | 파이프라인 독립 서비스화 |
| **멀티 모델 라우팅** | **멀티 프레임워크** |
| 다중 모델, 작업별 라우팅, 헬스체크 | Spring, Vue, React 템플릿 |

---

## 상세 기능 명세

| Phase | 기능 | 주요 내용 | 우선순위 |
|-------|------|----------|----------|
| 1 | 파일 작업 | 파일 읽기/쓰기 + 6단계 파이프라인 검증 + Diff 미리보기 + 사용자 승인 | `Critical` |
| 1 | 프레임워크 분리 | FrameworkAdapter 트레이트 + YAML 템플릿 + 프레임워크별 지식 베이스 | `Critical` |
| 1 | CLI 인터페이스 | generate, validate, batch, models 명령어 + CI/CD 통합 | `Critical` |
| 1 | 멀티 모델 라우팅 | 다중 활성 모델 + 작업→모델 매핑 + 헬스체크 + 사용자 오버라이드 | `Critical` |
| 2 | VS Code 확장 | WebView UI + 동일 API 계약 + 테마 지원 | `High` |
| 2 | 터미널 실행 | 블랙리스트 + 카테고리 권한 + 선택적 로깅 | `High` |
| 2 | 검증 API | POST /agent/validate + 배치 검증 + JUnit/SARIF 출력 | `High` |

---

## 프레임워크 분리 전략 (Phase 1 핵심)

### 현재 상태

```
┌─────────────────────────────────────────────────────┐
│                    Coco Core                        │
├─────────────────────────────────────────────────────┤
│           xFrame5 코드 생성 (강결합)                  │
│           xFrame5 RAG 지식베이스                     │
│           xFrame5 템플릿                             │
└─────────────────────────────────────────────────────┘
```

### 목표 상태

```
┌─────────────────────────────────────────────────────┐
│                    Coco Core                        │
├─────────────────────────────────────────────────────┤
│              FrameworkAdapter (인터페이스)            │
└─────────────────────────────────────────────────────┘
         ↓           ↓           ↓           ↓
   ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐
   │ xFrame5 │ │ Spring  │ │   Vue   │ │  React  │
   │ Adapter │ │ Adapter │ │ Adapter │ │ Adapter │
   └─────────┘ └─────────┘ └─────────┘ └─────────┘
```

### 시장 확장 효과

| 프레임워크 | 타겟 시장 | 예상 규모 |
|-----------|----------|----------|
| xFrame5 | 공공 SI, 금융권 | 현재 |
| Spring | 대기업, 금융권 백엔드 | 시장 2배 확장 |
| Vue/React | 스타트업, 프론트엔드 | 시장 3배 확장 |
| 전자정부 프레임워크 | 공공기관 | 정부 SI 진입 |

---

## 멀티 모델 라우팅 아키텍처

```
┌─────────────────────────────────────────────────────┐
│                    Model Router                      │
├─────────────────────────────────────────────────────┤
│  1. 사용자 세션 선호 모델 확인                        │
│  2. 관리자 작업→모델 매핑 확인                        │
│  3. 사용 불가 시 다음 건강한 모델로 폴백              │
└─────────────────────────────────────────────────────┘
              ↓           ↓           ↓
        ┌─────────┐ ┌─────────┐ ┌─────────┐
        │  vLLM   │ │  Ollama │ │  Groq   │
        │ Qwen32B │ │  Qwen7B │ │ (cloud) │
        └─────────┘ └─────────┘ └─────────┘
         generation   qa/review   fallback
```

---

## CLI 명령어 구조

```bash
# 코드 생성
$ coder generate --product xframe5-ui --input schema.sql

# 코드 검증
$ coder validate --framework xframe5 src/*.js

# 배치 처리
$ coder batch --file jobs.yaml --parallel 4

# 모델 관리
$ coder models list
$ coder models use vLLM-Qwen32B
$ coder models health
```

---

## 6단계 결정론적 파이프라인 (핵심 USP)

```
┌──────────────────────────────────────────────────────────────┐
│                    6단계 파이프라인                           │
├──────────────────────────────────────────────────────────────┤
│  [1] 입력 정규화 → [2] 컨텍스트 주입 → [3] LLM 생성          │
│            ↓                                                 │
│  [4] 구문 검증 → [5] 표준 적용 → [6] 감사 로깅               │
└──────────────────────────────────────────────────────────────┘
```

| 단계 | 역할 | 결정론적 보장 |
|------|------|--------------|
| 1. 입력 정규화 | 입력 포맷 표준화 | 동일 입력 보장 |
| 2. 컨텍스트 주입 | RAG + 지식베이스 | 일관된 컨텍스트 |
| 3. LLM 생성 | 온프레미스 모델 추론 | Temperature 0 |
| 4. 구문 검증 | AST 파싱, 문법 확인 | 자동 수정 |
| 5. 표준 적용 | API 허용목록, 코딩 규칙 | 규칙 위반 거부 |
| 6. 감사 로깅 | 전체 과정 기록 | 추적 가능성 |

> **동일 입력 → 동일 출력**: 이것이 Cline Enterprise와의 핵심 차별점

---

## 핵심 성공 요인

- **Phase 1 완료**: CLI와 멀티 모델로 즉시 자동화 및 배치 처리 가능
- **프레임워크 분리**: xFrame5 외 Spring, Vue, React 시장 진입 가능
- **거버넌스 유지**: 모든 기능이 기존 파이프라인과 감사 로깅 통합
- **점진적 확장**: Phase 2에서 VS Code로 더 넓은 개발자 접근

---

## 목표 지표

| 지표 | 목표 | 현재 | 비고 |
|------|------|------|------|
| 표준 위반율 | < 5% | 측정 중 | 파이프라인 통과율 |
| 감사 쿼리 응답 | < 1초 | - | 로그 검색 속도 |
| 외부 네트워크 호출 | 0건 | 0건 | 설계 원칙 |
| 결정론적 일관성 | 100% | 테스트 중 | 동일 입력 → 동일 출력 |
| 프레임워크 커버리지 | 4개 | 1개 (xFrame5) | Phase 1 후 확장 |

---

## 일정 (예상)

| 마일스톤 | 예상 일정 | 산출물 |
|----------|----------|--------|
| Phase 1 착수 | 2026 Q1 | 착수 보고 |
| 프레임워크 분리 완료 | 2026 Q2 | FrameworkAdapter |
| CLI + 멀티 모델 | 2026 Q2 | coder CLI |
| Phase 1 완료 | 2026 Q2 말 | MVP 출시 |
| Phase 2 착수 | 2026 Q3 | VS Code 확장 개발 |
| 상용 출시 | 2026 Q4 | v1.0 |

---

## 관련 문서

- [[implementation/resource_plan_ko|투입 인력 및 로드맵]]: Phase별 인력 투입 및 상세 일정
- [[strategy/executive_summary_ko|경영진 요약]]: 전략 분석 보고서
- [[strategy/regulatory_environment_ko|규제 환경]]: 국내 규제 환경
- [[implementation/cost_analysis_ko|비용 분석]]: 인프라 비용 상세 분석
- [[strategy/competitive_strategy_ko|경쟁 전략]]: Cline Enterprise 대응 전략
- [[implementation/api_reference_ko|API 레퍼런스]]: API 엔드포인트 명세

---

**Coco 구현 로드맵 v2.0** | 분석팀 | 2026-01-21

*경쟁사 분석 (OpenCode, Caret, Cline Enterprise) 및 전략적 권고사항 기반*
