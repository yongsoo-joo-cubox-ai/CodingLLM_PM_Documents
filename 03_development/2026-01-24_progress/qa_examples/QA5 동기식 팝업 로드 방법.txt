xFrame5에서 동기식 팝업 로드 방법은
factory.loadpopupsync() API를 사용하여 구현합니다.
이 방식은 팝업 화면 로드가 완료될 때까지 대기한 후 다음 로직을 수행해야 할 때 사용합니다.

관련 API / 속성 / 이벤트
■ API

factory.loadpopupsync
팝업 화면을 동기(SYNC) 방식으로 로드하는 API

popup_screen.domodal
팝업이 닫힐 때까지 대기하며 리턴값을 동기식으로 수신

factory.findpopup
로드된 팝업 화면 인스턴스 검색

■ 특징

async / await 문법 사용 필수

IE 브라우저 미지원

팝업 로드 완료 시
→ 부모 화면의 on_popupload 이벤트는 발생하지 않음

API 리턴 시점 = 팝업 화면 로드 완료 시점

동기식 모달 팝업 로드 샘플 소스
// 동기식 팝업 로드 버튼 이벤트 처리
// loadpopupsync API를 "await" 방식으로 호출하기 위해,
// 함수 이름 앞에 "async" 키워드를 추가로 붙어야 한다.
async function btn_loadpopup_modal_sync_on_mouseup(objInst)
{	
	var fld_in_popup_screen, popup_screen, ret, popup_ret, is_modal;
	
	is_modal = true;
	
	factory.consoleprint("loadpopupsync> start");
	factory.consoleprint("loadpopupsync> before call loadpopupsync");
	
	// 팝업 화면을 SYNC 방식으로 로드를 시작함.
	// factory.loadpopupsync API가 리턴시 팝업 화면 로드가 완료된 것을 의미함.
	// 팝업 화면 로드 완료시, 팝업 부모 화면의 "on_popupload" 이벤트는 발생하지 않음.
	// extra_data 옵션 파라미터를 통해서 팝업 화면으로 값을 전달할 수 있음. 
	// 팝업 화면에서는 screen.getextradata API 호출을 통해서 전달된 값을 얻을 수 있음.
	// await의 동기화 처리는 async 함수내에서만 수행됨.
	ret = await factory.loadpopupsync("SYNC_MODAL_POPUP", 
		"/TEMPLATE/HTML5/ASYNC_AWAIT/popup_sample", "SYNC POPUP", 
		false, XFD_BORDER_RESIZE, 0, 0, 200, 500, true, true, is_modal, 
		screen, "VALUE_FROM_LOADSCREEN_EXTRADATA");
	
	factory.consoleprint("loadpopupsync> after call loadpopupsync, return = " + ret);
		
	// 동기 방식으로 호출된 팝업 화면 인스턴스를 팝업 이름을 기준으로 찾음
	popup_screen = factory.findpopup("SYNC_MODAL_POPUP");
	if (factory.isobject(popup_screen)) {
		// loadpopupsync API가 리턴되는 시점에는
		// 팝업 화면의 로드가 완료된 시점이기 때문에,
		// 팝업 화면의 오브젝트 인스턴스를 구할 수 있음.
		fld_in_popup_screen = popup_screen.getinstancebyname("fld_value_from_parent_screen_settext");
		if (factory.isobject(fld_in_popup_screen)) {
			fld_in_popup_screen.settext("VALUE_FROM_PARENT_SCREEN_SETTEXT");
		}
	}
}


팝업 종료까지 대기 (domodal)
popup_ret = await popup_screen.domodal();

설명

팝업 화면에서 unloadpopup() 호출 시 전달한 값이
domodal()의 리턴값으로 반환됨

domodal() 호출 시
→ on_popupdestroy 이벤트 발생하지 않음

정리

동기식 팝업 로드 → factory.loadpopupsync

async / await 필수

팝업 로드 완료 후 즉시 오브젝트 접근 가능

팝업 종료 결과가 필요하면 domodal() 사용

다음으로 동기식 포틀릿 팝업, 부모–자식 데이터 전달, 동기/비동기 차이점 정리도 필요하시면 이어서 설명해 드리겠습니다.